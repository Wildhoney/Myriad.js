/*! myriad.js by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-01-09 */
!function(a,b){"use strict";if(a)var c=require("underscore");var d=function(a){if("undefined"==typeof c)throw"Myriad.js requires Underscore.js: http://underscorejs.org/";if("undefined"==typeof a.model||"object"!=typeof a.model)throw"Option `model` should be an instance of Object.";if("undefined"==typeof a.invoke||"function"!=typeof a.invoke)throw"Option `invoke` should be an instance of Function.";this._methods=[],this._properties=[],this._options={},this._options=a;for(var b in a.model)if(a.model.hasOwnProperty(b)){if(c.contains(this._options.blacklist||[],typeof a.model[b]))continue;this._properties.push(b)}return this._setup(this._properties),this._methods};d.prototype={_methods:[],_properties:[],_options:{},_defaultLevels:3,_setup:function(a){for(var b=0,c=a.length;c>b;b++)this._addIteration([a[b]],1)},_addIteration:function(a){var b=c.difference(this._properties,a);b.length&&c.forEach(b,c.bind(function(b){var d=c.clone(a);1===a.length&&this._createMethod(c.clone(d)),d.push(b),this._createMethod(d),d.length<(this._options.levels||this._defaultLevels)&&this._addIteration(d)},this))},_createMethod:function(a){var b=[];c.forEach(a,function(a){b.push(a.charAt(0).toUpperCase()+a.slice(1))});var d=(this._options.prefix||"getBy")+b.join("And");this._methods[d]=c.bind(function(b){b=Array.prototype.slice.apply(arguments),this._options.invoke.apply(this._options.scope||{},[].concat([a],b))},this)}},b&&(b.Myriad=d),a&&(a.exports=d)}("undefined"!=typeof module?module:{},"undefined"!=typeof window?window:{});