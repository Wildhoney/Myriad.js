/*! myriad.js by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-01-09 */
!function(a,b){"use strict";var c=b?b._:void 0;if(a)try{c=require("underscore")}catch(d){console.error("Myriad.js requires Underscore.js: http://underscorejs.org/")}var e=function(a){if("undefined"==typeof c)throw"Myriad.js requires Underscore.js: http://underscorejs.org/";if("undefined"==typeof a.model||"object"!=typeof a.model)throw"Option `model` should be an instance of Object.";if("undefined"==typeof a.invoke||"function"!=typeof a.invoke)throw"Option `invoke` should be an instance of Function.";this._methods=[],this._properties=[],this._options=a;for(var b in a.model)if(a.model.hasOwnProperty(b)){if(c.contains(this._options.blacklist||[],typeof a.model[b]))continue;this._properties.push(b)}return this._setup(this._properties),this._methods};e.prototype={_methods:[],_properties:[],_options:{},_defaultDepth:3,_defaultConnector:"And",_setup:function(a){for(var b=0,c=a.length;c>b;b++)this._addIteration([a[b]],1)},_addIteration:function(a){var b=c.difference(this._properties,a);b.length&&c.forEach(b,c.bind(function(b){var d=c.clone(a);1===a.length&&this._createMethod(c.clone(d)),d.push(b),this._createMethod(d),d.length<(this._options.depth||this._defaultDepth)&&this._addIteration(d)},this))},_createMethod:function(a){var b=[];c.forEach(a,function(a){b.push(a.charAt(0).toUpperCase()+a.slice(1))});var d=this._options.connector||this._defaultConnector,e=(this._options.prefix||"getBy")+b.join(d);this._methods[e]=c.bind(function(b){b=Array.prototype.slice.apply(arguments),this._options.invoke.apply(this._options.scope||{},[].concat([a],b))},this)}},b&&(b.Myriad=e),a&&(a.exports=e)}("undefined"!=typeof module?module:null,"undefined"!=typeof window?window:null);